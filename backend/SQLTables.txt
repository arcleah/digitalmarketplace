DROP DATABASE IF EXISTS resellStore;
CREATE DATABASE resellStore;

USE resellStore;

CREATE TABLE member (
  id INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  fname VARCHAR(50),
  lname VARCHAR(50),
  address TEXT,
  email VARCHAR(100) UNIQUE,
  password VARCHAR(100),
  phone VARCHAR(15),
  role ENUM('buyer', 'seller')
);

CREATE TABLE category (
  category_id INT PRIMARY KEY,
  categody_name VARCHAR(30)
)

CREATE TABLE orders (
    order_id INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
    cost DECIMAL(10, 2),
    order_status VARCHAR(30),
    member_id INT,
    FOREIGN KEY (member_id) REFERENCES member(id)
);

CREATE TABLE items (
  item_id INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  item_name VARCHAR(50),
  item_condition VARCHAR(50),
  size VARCHAR(20),
  description VARCHAR(500),
  price DECIMAL(10, 2),
  item_photo VARCHAR(255),
  member_id INT,
  FOREIGN KEY (member_id) REFERENCES member(id)
);

CREATE TABLE review (
    review_id INT AUTO_INCREMENT,
    member_id INT,
    item_id INT,
    comments VARCHAR(500),
    rating INT,
    FOREIGN KEY (member_id) REFERENCES member(id)
    FOREIGN KEY (item_id) REFERENCES items(item_id)
    CHECK (Rating BETWEEN 1 AND 5)
);